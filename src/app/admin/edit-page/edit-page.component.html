<div *ngIf="form; else loading">
    <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="form-control" [ngClass]="{invalid: form.get('title')?.invalid && form.get('title')?.touched}">
            <label for="title">Заголовок поста:</label>
            <input id="title" type="text" formControlName="title">
            <div 
            *ngIf="form.get('title')?.invalid && form.get('title')?.touched"
            class="validation"
            >
                <small
                *ngIf="form.get('title')?.errors?.['required']"
                >
                Поле обязательно к заполнению
                </small>
            </div>
        </div>
        <div class="form-control">
            <label>Контент поста:</label>
            <quill-editor
            formControlName="text"
            ></quill-editor>
        </div>
        <button class="btn btn-primary"
        [disabled]="form.invalid || submitted"
        type="submit"
        >
            Опубликовать изменения
        </button>
    </form>
</div>

<ng-template #loading>
    <p class="text-center">
        Идёт загрузка...
    </p>
</ng-template>